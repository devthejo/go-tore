{"version":3,"sources":["App.module.scss","square-black.png","square-white.png","Board.js","AppContext.js","AlertView.js","config.js","BoardIntersection.js","BoardView.js","ContainerView.js","Tray.js","App.js","index.js"],"names":["module","exports","app","header","trayContainer","trayGrid","trayShadow","trayModeGradient","trayModeOpacity","tray","trayNO","trayN","trayNE","trayO","trayM","trayE","traySO","trayS","traySE","__webpack_require__","p","Board","size","this","current_color","BLACK","board","create_board","last_move_passed","in_atari","attempted_suicide","EMPTY","WHITE","prototype","m","i","j","switch_player","pass","end_game","game_over","console","log","play","color","captured","neighbors","get_adjacent_intersections","atari","self","_","each","n","state","group","get_group","push","isEmpty","stone","visited","visited_list","queue","count","pushQueue","length","pop","liberties","stones","AppContext","createContext","initialState","reducer","action","type","Object","objectSpread","payload","Consumer","AlertView","_ref","text","react_default","a","createElement","id","GRID_SIZE","BoardIntersection","props","style","top","row","left","col","classes","onClick","onPlay","className","src","imgBlack","imgWhite","BoardView","useContext","intersections","key","concat","assign","width","height","ContainerView","dispatch","Tray","classnames","css","defaultDisplayMode","App","_classnames","_useContext","_useState","useState","_useState2","slicedToArray","setLength","_useState3","_useState4","displayMode","setDisplayMode","onChange","e","target","value","placeholder","defineProperty","lib_default","ReactDOM","render","_useReducer","useReducer","_useReducer2","Provider","children","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b617b5e0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1wp6V\",\"header\":\"App_header__2tKVb\",\"trayContainer\":\"App_trayContainer__1MnFA\",\"trayGrid\":\"App_trayGrid__216Q7\",\"trayShadow\":\"App_trayShadow__2-CCE\",\"trayModeGradient\":\"App_trayModeGradient__3nyeJ\",\"trayModeOpacity\":\"App_trayModeOpacity__2PyzJ\",\"tray\":\"App_tray__1IF8W\",\"trayNO\":\"App_trayNO__w7QzY\",\"trayN\":\"App_trayN__1Mcq2\",\"trayNE\":\"App_trayNE__1sO7Z\",\"trayO\":\"App_trayO__1Kr84\",\"trayM\":\"App_trayM__1vlag\",\"trayE\":\"App_trayE__8P-HJ\",\"traySO\":\"App_traySO__1RVqI\",\"trayS\":\"App_trayS__1eI_1\",\"traySE\":\"App_traySE__1qDad\"};","module.exports = __webpack_public_path__ + \"static/media/square-black.2908aafa.png\";","module.exports = __webpack_public_path__ + \"static/media/square-white.2364369e.png\";","import _ from 'underscore'\n\nvar Board = function(size) {\n    this.current_color = Board.BLACK;\n    this.size = size;\n    this.board = this.create_board(size);\n    this.last_move_passed = false;\n    this.in_atari = false;\n    this.attempted_suicide = false;\n};\n\nBoard.EMPTY = 0;\nBoard.BLACK = 1;\nBoard.WHITE = 2;\n\n/*\n * Returns a size x size matrix with all entries initialized to Board.EMPTY\n */\nBoard.prototype.create_board = function(size) {\n    var m = [];\n    for (var i = 0; i < size; i++) {\n        m[i] = [];\n        for (var j = 0; j < size; j++)\n            m[i][j] = Board.EMPTY;\n    }\n    return m;\n};\n\n/*\n * Switches the current player\n */\nBoard.prototype.switch_player = function() {\n    this.current_color = \n        this.current_color === Board.BLACK ? Board.WHITE : Board.BLACK;\n};\n\n/*\n * At any point in the game, a player can pass and let his opponent play\n */\nBoard.prototype.pass = function() {\n    if (this.last_move_passed)\n        this.end_game();\n    this.last_move_passed = true;\n    this.switch_player();\n};\n\n/*\n * Called when the game ends (both players passed)\n */\nBoard.prototype.end_game = function() {\n  this.game_over = true\n  console.log(\"GAME OVER\");\n};\n\n/*\n * Attempt to place a stone at (i,j). Returns true iff the move was legal\n */\nBoard.prototype.play = function(i, j) {\n    console.log(\"Played at \" + i + \", \" + j);   \n    this.attempted_suicide = this.in_atari = false;\n\n    if (this.board[i][j] !== Board.EMPTY)\n        return false;\n\n    var color = this.board[i][j] = this.current_color;\n    var captured = [];\n    var neighbors = this.get_adjacent_intersections(i, j);\n    var atari = false;\n\n    var self = this;\n    _.each(neighbors, function(n) {\n        var state = self.board[n[0]][n[1]];\n        if (state !== Board.EMPTY && state !== color) {\n            var group = self.get_group(n[0], n[1]);\n            console.log(group);\n            if (group[\"liberties\"] === 0)\n                captured.push(group);\n            else if (group[\"liberties\"] === 1)\n                atari = true;\n        }\n    });\n\n    // detect suicide\n    if (_.isEmpty(captured) && this.get_group(i, j)[\"liberties\"] === 0) {\n        this.board[i][j] = Board.EMPTY;\n        this.attempted_suicide = true;\n        return false;\n    }\n\n    _.each(captured, function(group) {\n        _.each(group[\"stones\"], function(stone) {\n            self.board[stone[0]][stone[1]] = Board.EMPTY;\n        });\n    });\n\n    if (atari)\n        this.in_atari = true;\n\n    this.last_move_passed = false;\n    this.switch_player();\n    return true;\n};\n\n/*\n * Given a board position, returns a list of [i,j] coordinates representing\n * orthagonally adjacent intersections\n */\nBoard.prototype.get_adjacent_intersections = function(i , j) {\n    var neighbors = []; \n    if (i > 0){\n      neighbors.push([i - 1, j])\n    }\n    else{\n      neighbors.push([this.size - 1, j])\n    }\n    \n    if (j < this.size - 1){\n      neighbors.push([i, j + 1])\n    }\n    else{\n      neighbors.push([i, 0])\n    }\n    \n    if (i < this.size - 1){\n      neighbors.push([i + 1, j])\n    }\n    else{\n      neighbors.push([0, j])\n    }\n    \n    if (j > 0){\n      neighbors.push([i, j - 1])\n    }\n    else{\n      neighbors.push([i, this.size - 1])\n    }\n    \n    return neighbors;\n};\n\n/*\n * Performs a breadth-first search about an (i,j) position to find recursively\n * orthagonally adjacent stones of the same color (stones with which it shares\n * liberties). Returns null for if there is no stone at the specified position,\n * otherwise returns an object with two keys: \"liberties\", specifying the\n * number of liberties the group has, and \"stones\", the list of [i,j]\n * coordinates of the group's members.\n */\nBoard.prototype.get_group = function(i, j) {\n\n    var color = this.board[i][j];\n    if (color === Board.EMPTY)\n        return null;\n\n    var visited = {}; // for O(1) lookups\n    var visited_list = []; // for returning\n    var queue = [[i, j]];\n    var count = 0;\n\n    function pushQueue(n) {\n      var state = self.board[n[0]][n[1]];\n      if (state === Board.EMPTY)\n          count++;\n      if (state === color)\n          queue.push([n[0], n[1]]);\n    }\n  \n    while (queue.length > 0) {\n        var stone = queue.pop();\n        if (visited[stone])\n            continue;\n\n        var neighbors = this.get_adjacent_intersections(stone[0], stone[1]);\n        var self = this;\n        _.each(neighbors, pushQueue);\n\n        visited[stone] = true;\n        visited_list.push(stone);\n    }\n\n    return {\n        \"liberties\": count,\n        \"stones\": visited_list\n    };\n}\n\nexport default Board\n","import React, {\n  createContext,\n  useReducer,\n} from 'react'\n\nimport Board from './Board'\n\nconst AppContext = createContext()\n\nconst defaultLength = 8\nconst initialState = {\n  length: defaultLength,\n  board: new Board(defaultLength),\n}\n\nfunction reducer(state, action){\n  switch(action.type){\n    case 'PLAY':\n      return {\n        ...state,\n        board: action.payload,\n      }\n    case 'CHANGE_TRAY_LENGTH':\n      const length = action.payload\n      console.log(length)\n      return {\n        ...state,\n        length,\n        board: new Board(length),\n      }\n    default:\n      return state\n  }\n  \n}\n\nfunction AppContextProvider(props) {\n  const [state, dispatch] = useReducer(reducer, initialState)\n  const value = { state, dispatch }\n\n  return (\n    <AppContext.Provider value={value}>{props.children}</AppContext.Provider>\n  )\n}\n\nconst AppContextConsumer = AppContext.Consumer\n\nexport { AppContext, AppContextProvider, AppContextConsumer }\n","import React from 'react'\n\nexport default function AlertView ({board}){\n  let text = \"\"\n  if (board.in_atari)\n    text = \"ATARI !\";\n  else if (board.attempted_suicide)\n    text = \"SUICIDE !\";\n  else if (board.game_over)\n    text = \"GAME OVER !\";\n    \n  return (\n    <div id=\"alerts\">{text}</div>\n  )\n}\n","export const GRID_SIZE = 40\n","import React from 'react'\n\nimport { GRID_SIZE } from './config'\nimport Board from './Board'\n\nimport imgBlack from './square-black.png'\nimport imgWhite from './square-white.png'\n\nexport default function BoardIntersection (props){\n    \n    function handleClick(){\n      if (props.board.play(props.row, props.col))\n        props.onPlay()\n    }\n    \n    const style = {\n      top: props.row * GRID_SIZE,\n      left: props.col * GRID_SIZE\n    }\n    let classes = \"intersection\"\n    \n    if (props.color !== Board.EMPTY)\n      classes += props.color === Board.BLACK ? \" black\" : \" white\"\n    \n    \n    return (\n      <div\n        onClick={handleClick} \n        className={classes}\n        style={style}\n      >\n        {props.color !== Board.EMPTY && (\n          <img src={props.color === Board.BLACK ? imgBlack : imgWhite} />\n        )}\n      </div>\n    )\n}\n","import React, { useContext } from 'react'\n\nimport { GRID_SIZE } from './config'\nimport BoardIntersection from './BoardIntersection'\n\nimport { AppContext } from './AppContext'\n\nexport default function BoardView (props) {\n    const {state} = useContext(AppContext)\n  \n    const {board} = state\n    \n    const intersections = []\n    for (let i = 0; i < board.size; i++){\n      for (let j = 0; j < board.size; j++){\n        const key = `${i} ${j}`\n        intersections.push((\n          <BoardIntersection key={key} {...{\n            board: board,\n            color: board.board[i][j],\n            row: i,\n            col: j,\n            onPlay: props.onPlay\n          }} />\n        ))\n      }\n    }\n    const style = {\n      width: board.size * GRID_SIZE,\n      height: board.size * GRID_SIZE\n    }\n    return <div style={style} id=\"board\">{intersections}</div>\n}\n","import React, {useContext} from 'react'\n\nimport BoardView from './BoardView'\n\nimport { AppContext } from './AppContext'\n\nexport default function ContainerView (props){\n  const { board } = props\n\n  const {dispatch} = useContext(AppContext)\n  \n  return (\n    <div>\n      <BoardView board={board} onPlay={()=>dispatch({type: 'PLAY', payload: props.board})} />\n    </div>\n  )\n}\n","import React, { \n  useContext,\n} from 'react'\nimport classnames from 'classnames'\n\nimport { AppContext } from './AppContext'\nimport ContainerView from './ContainerView'\n\nimport css from './App.module.scss'\n\nexport default function Tray(props) {\n  \n  const {\n    className,\n  } = props\n  \n  const {state} = useContext(AppContext)\n  \n  const {\n    board,\n  } = state\n  \n  return (\n    <div className={classnames(css.tray, className)}>\n      <ContainerView board={board} />      \n    \n    </div>\n  )\n}\n","import React, { useContext, useState } from 'react'\nimport classnames from 'classnames'\nimport ContainerDimensions from 'react-container-dimensions'\n\n\nimport './App.scss'\nimport css from './App.module.scss'\n\nimport { AppContext } from './AppContext'\n\nimport Board from './Board'\nimport AlertView from './AlertView'\n\nimport Tray from './Tray'\n\nconst defaultDisplayMode = 'opacity'\n\nfunction App(props) {\n  \n  const {state, dispatch} = useContext(AppContext)\n  \n  const [length, setLength] = useState(state.length)\n  const [displayMode, setDisplayMode] = useState(defaultDisplayMode)\n  \n  const {\n    board,\n  } = state\n  \n  \n  \n  function handleChangeLength(e){\n    dispatch({\n      type: 'CHANGE_TRAY_LENGTH',\n      payload: length,\n    })\n  }\n  \n  function handlePass(){\n    board.pass()\n    dispatch({type: 'PLAY', payload: board})\n  }\n  \n \n  return (\n    <div className={css.app}>\n      \n      <div className={css.header}>\n        \n        <div className=\"field is-horizontal\">\n          <div className=\"field-label is-small\">\n            <label className=\"label\">Taille du plateau</label>\n          </div>\n          <div className=\"field-body\">\n            <div className=\"field\">\n              <div className=\"control\">\n                <input\n                  onChange={(e)=>setLength(e.target.value)} value={length}\n                  placeholder=\"entrez une valeur numérique\"\n                />\n                <input\n                  type=\"button\"\n                  value=\"Nouvelle partie\"\n                  onClick={handleChangeLength}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"field is-horizontal\">\n          <div className=\"field-label is-small\">\n            <label className=\"label\">Actions</label>\n          </div>\n          <div className=\"field-body\">\n            <div className=\"field\">\n              <div className=\"control\">\n                <input type=\"button\" value=\"Passer\" onClick={handlePass} />\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"field is-horizontal\">\n          <div className=\"field-label is-small\">\n            <label className=\"label\">Joueur</label>\n          </div>\n          <div className=\"field-body\">\n            <div className=\"field\">\n              <div className=\"control\">\n                {board.current_color === Board.BLACK ? 'noir' : 'blanc'}\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"field is-horizontal\">\n          <div className=\"field-label is-small\">\n            <label className=\"label\">Affichage</label>\n          </div>\n          <div className=\"field-body\">\n            <div className=\"field\">\n              <div className=\"control\">\n                <select\n                  onChange={(e)=>setDisplayMode(e.target.value)}\n                  value={displayMode}\n                >\n                  <option value=\"opacity\">\n                    Opacité\n                  </option>\n                  <option value=\"gradient\">\n                    Dégradé radial\n                  </option>\n                </select>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"field is-horizontal\">\n          <div className=\"field-label is-small\">\n            <label className=\"label\">Messages</label>\n          </div>\n          <div className=\"field-body\">\n            <div className=\"field\">\n              <div className=\"control\">\n                <AlertView board={board} />\n              </div>\n            </div>\n          </div>\n        </div>\n        \n      </div>\n\n      \n      <div\n        className={classnames(css.trayContainer, {\n          [css.trayModeOpacity]: displayMode === 'opacity',\n          [css.trayModeGradient]: displayMode === 'gradient',\n        })}\n      >\n      \n        <ContainerDimensions>\n          { ({ height, width }) => (\n            <div\n              style={{\n                height: height+2,\n                width: width+2,\n              }}\n              className={css.trayShadow}\n            /> \n          )}\n        </ContainerDimensions>\n        \n        <div className={css.trayGrid}>\n          \n\n          <Tray className={css.trayNO} />\n          <Tray className={css.trayN} />\n          <Tray className={css.trayNE} />\n\n          <Tray className={css.trayO} />\n          <Tray className={css.trayM} />\n          <Tray className={css.trayE} />\n        \n          <Tray className={css.traySO} />\n          <Tray className={css.trayS} />\n          <Tray className={css.traySE} />\n          \n        </div>\n      </div>\n      \n    </div>    \n  )\n  \n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nimport { AppContextProvider } from './AppContext'\n\nimport 'bulma'\n\nReactDOM.render((\n  <AppContextProvider>\n    <App />\n  </AppContextProvider>\n), document.getElementById('root'))\n"],"sourceRoot":""}