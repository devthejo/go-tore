(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,a,t){e.exports={app:"App_app__1wp6V",header:"App_header__2tKVb",trayContainer:"App_trayContainer__1MnFA",trayGrid:"App_trayGrid__216Q7",trayShadow:"App_trayShadow__2-CCE",trayModeGradient:"App_trayModeGradient__3nyeJ",trayModeOpacity:"App_trayModeOpacity__2PyzJ",tray:"App_tray__1IF8W",trayNO:"App_trayNO__w7QzY",trayN:"App_trayN__1Mcq2",trayNE:"App_trayNE__1sO7Z",trayO:"App_trayO__1Kr84",trayM:"App_trayM__1vlag",trayE:"App_trayE__8P-HJ",traySO:"App_traySO__1RVqI",trayS:"App_trayS__1eI_1",traySE:"App_traySE__1qDad"}},13:function(e,a,t){e.exports=t.p+"static/media/square-black.2908aafa.png"},14:function(e,a,t){e.exports=t.p+"static/media/square-white.2364369e.png"},15:function(e,a,t){e.exports=t(41)},35:function(e,a,t){},41:function(e,a,t){"use strict";t.r(a);var r=t(0),l=t.n(r),n=t(6),s=t.n(n),c=t(3),i=t(4),o=t(5),d=t.n(o),m=t(12),p=t.n(m),u=(t(35),t(1)),E=t.n(u),_=t(7),y=t(2),h=t.n(y),v=function e(a){this.current_color=e.BLACK,this.size=a,this.board=this.create_board(a),this.last_move_passed=!1,this.in_atari=!1,this.attempted_suicide=!1};v.EMPTY=0,v.BLACK=1,v.WHITE=2,v.prototype.create_board=function(e){for(var a=[],t=0;t<e;t++){a[t]=[];for(var r=0;r<e;r++)a[t][r]=v.EMPTY}return a},v.prototype.switch_player=function(){this.current_color=this.current_color===v.BLACK?v.WHITE:v.BLACK},v.prototype.pass=function(){this.last_move_passed&&this.end_game(),this.last_move_passed=!0,this.switch_player()},v.prototype.end_game=function(){this.game_over=!0,console.log("GAME OVER")},v.prototype.play=function(e,a){if(console.log("Played at "+e+", "+a),this.attempted_suicide=this.in_atari=!1,this.board[e][a]!==v.EMPTY)return!1;var t=this.board[e][a]=this.current_color,r=[],l=this.get_adjacent_intersections(e,a),n=!1,s=this;return h.a.each(l,function(e){var a=s.board[e[0]][e[1]];if(a!==v.EMPTY&&a!==t){var l=s.get_group(e[0],e[1]);console.log(l),0===l.liberties?r.push(l):1===l.liberties&&(n=!0)}}),h.a.isEmpty(r)&&0===this.get_group(e,a).liberties?(this.board[e][a]=v.EMPTY,this.attempted_suicide=!0,!1):(h.a.each(r,function(e){h.a.each(e.stones,function(e){s.board[e[0]][e[1]]=v.EMPTY})}),n&&(this.in_atari=!0),this.last_move_passed=!1,this.switch_player(),!0)},v.prototype.get_adjacent_intersections=function(e,a){var t=[];return e>0?t.push([e-1,a]):t.push([this.size-1,a]),a<this.size-1?t.push([e,a+1]):t.push([e,0]),e<this.size-1?t.push([e+1,a]):t.push([0,a]),a>0?t.push([e,a-1]):t.push([e,this.size-1]),t},v.prototype.get_group=function(e,a){var t=this.board[e][a];if(t===v.EMPTY)return null;var r={},l=[],n=[[e,a]],s=0;function c(e){var a=d.board[e[0]][e[1]];a===v.EMPTY&&s++,a===t&&n.push([e[0],e[1]])}for(;n.length>0;){var i=n.pop();if(!r[i]){var o=this.get_adjacent_intersections(i[0],i[1]),d=this;h.a.each(o,c),r[i]=!0,l.push(i)}}return{liberties:s,stones:l}};var b=v,f=Object(r.createContext)(),N={length:8,board:new b(8)};function g(e,a){switch(a.type){case"PLAY":return Object(_.a)({},e,{board:a.payload});case"CHANGE_TRAY_LENGTH":var t=a.payload;return console.log(t),Object(_.a)({},e,{length:t,board:new b(t)});default:return e}}f.Consumer;function A(e){var a=e.board,t="";return a.in_atari?t="ATARI !":a.attempted_suicide?t="SUICIDE !":a.game_over&&(t="GAME OVER !"),l.a.createElement("div",{id:"alerts"},t)}var O=40,C=t(13),w=t.n(C),M=t(14),P=t.n(M);function j(e){var a={top:e.row*O,left:e.col*O},t="intersection";return e.color!==b.EMPTY&&(t+=e.color===b.BLACK?" black":" white"),l.a.createElement("div",{onClick:function(){e.board.play(e.row,e.col)&&e.onPlay()},className:t,style:a},e.color!==b.EMPTY&&l.a.createElement("img",{src:e.color===b.BLACK?w.a:P.a}))}function T(e){for(var a=Object(r.useContext)(f).state.board,t=[],n=0;n<a.size;n++)for(var s=0;s<a.size;s++){var c="".concat(n," ").concat(s);t.push(l.a.createElement(j,Object.assign({key:c},{board:a,color:a.board[n][s],row:n,col:s,onPlay:e.onPlay})))}var i={width:a.size*O,height:a.size*O};return l.a.createElement("div",{style:i,id:"board"},t)}function z(e){var a=e.board,t=Object(r.useContext)(f).dispatch;return l.a.createElement("div",null,l.a.createElement(T,{board:a,onPlay:function(){return t({type:"PLAY",payload:e.board})}}))}function Y(e){var a=e.className,t=Object(r.useContext)(f).state.board;return l.a.createElement("div",{className:d()(E.a.tray,a)},l.a.createElement(z,{board:t}))}var S="opacity";var G=function(e){var a,t=Object(r.useContext)(f),n=t.state,s=t.dispatch,o=Object(r.useState)(n.length),m=Object(i.a)(o,2),u=m[0],_=m[1],y=Object(r.useState)(S),h=Object(i.a)(y,2),v=h[0],N=h[1],g=n.board;return l.a.createElement("div",{className:E.a.app},l.a.createElement("div",{className:E.a.header},l.a.createElement("div",{className:"field is-horizontal"},l.a.createElement("div",{className:"field-label is-small"},l.a.createElement("label",{className:"label"},"Taille du plateau")),l.a.createElement("div",{className:"field-body"},l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("input",{onChange:function(e){return _(e.target.value)},value:u,placeholder:"entrez une valeur num\xe9rique"}),l.a.createElement("input",{type:"button",value:"Nouvelle partie",onClick:function(e){s({type:"CHANGE_TRAY_LENGTH",payload:u})}}))))),l.a.createElement("div",{className:"field is-horizontal"},l.a.createElement("div",{className:"field-label is-small"},l.a.createElement("label",{className:"label"},"Actions")),l.a.createElement("div",{className:"field-body"},l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("input",{type:"button",value:"Passer",onClick:function(){g.pass(),s({type:"PLAY",payload:g})}}))))),l.a.createElement("div",{className:"field is-horizontal"},l.a.createElement("div",{className:"field-label is-small"},l.a.createElement("label",{className:"label"},"Joueur")),l.a.createElement("div",{className:"field-body"},l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},g.current_color===b.BLACK?"noir":"blanc")))),l.a.createElement("div",{className:"field is-horizontal"},l.a.createElement("div",{className:"field-label is-small"},l.a.createElement("label",{className:"label"},"Affichage")),l.a.createElement("div",{className:"field-body"},l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("select",{onChange:function(e){return N(e.target.value)},value:v},l.a.createElement("option",{value:"opacity"},"Opacit\xe9"),l.a.createElement("option",{value:"gradient"},"D\xe9grad\xe9 radial")))))),l.a.createElement("div",{className:"field is-horizontal"},l.a.createElement("div",{className:"field-label is-small"},l.a.createElement("label",{className:"label"},"Messages")),l.a.createElement("div",{className:"field-body"},l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement(A,{board:g})))))),l.a.createElement("div",{className:d()(E.a.trayContainer,(a={},Object(c.a)(a,E.a.trayModeOpacity,"opacity"===v),Object(c.a)(a,E.a.trayModeGradient,"gradient"===v),a))},l.a.createElement(p.a,null,function(e){var a=e.height,t=e.width;return l.a.createElement("div",{style:{height:a+2,width:t+2},className:E.a.trayShadow})}),l.a.createElement("div",{className:E.a.trayGrid},l.a.createElement(Y,{className:E.a.trayNO}),l.a.createElement(Y,{className:E.a.trayN}),l.a.createElement(Y,{className:E.a.trayNE}),l.a.createElement(Y,{className:E.a.trayO}),l.a.createElement(Y,{className:E.a.trayM}),l.a.createElement(Y,{className:E.a.trayE}),l.a.createElement(Y,{className:E.a.traySO}),l.a.createElement(Y,{className:E.a.trayS}),l.a.createElement(Y,{className:E.a.traySE}))))};t(39);s.a.render(l.a.createElement(function(e){var a=Object(r.useReducer)(g,N),t=Object(i.a)(a,2),n={state:t[0],dispatch:t[1]};return l.a.createElement(f.Provider,{value:n},e.children)},null,l.a.createElement(G,null)),document.getElementById("root"))}},[[15,2,1]]]);
//# sourceMappingURL=main.b617b5e0.chunk.js.map